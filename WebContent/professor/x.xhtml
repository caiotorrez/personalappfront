<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:o="http://omnifaces.org/ui"
	  xmlns:of="http://omnifaces.org/functions">
	  
	  
	<h:head>
	<f:metadata>
		<f:viewParam required="true" id="emailParam" name="email" value="#{treinoViewBean.email}"></f:viewParam>
		<f:viewAction action="#{treinoViewBean.searchTreino}"/>
		<f:event type="preRenderView" listener="#{professorViewBean.init(loginBean.username)}"/>
		<f:event type="preRenderView" listener="#{treinoViewBean.searchTreino}"/>
	</f:metadata>
        <title>PersonalAPP</title>
        <link rel="icon" href="../resources/icon/icon-tab.png"></link>
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width,  user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1"></meta>
        <link rel="stylesheet" href="../resources/css/footer-head.css"/>
        <link rel="stylesheet" href="../resources/css/bootstrap.css"></link>
   		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    </h:head>
    
    <h:body>
    <h:form id="form">
    	<p:dataTable lazy="true" rowKey="#{lista.id}" value="#{treinoViewBean.exeA}" var="lista" 
    				selectionMode="single" selection="#{treinoViewBean.exercicio}" id="table">
    	<p:ajax event="rowSelect" listener="#{treinoViewBean.onRowSelect}" update="form:carDetail" oncomplete="PF('carDialog').show();"/>
    	
    	 <p:column headerText="Id">
            <h:outputText value="#{lista.id}" />
        </p:column>
        <p:column headerText="Titulo">
            <h:outputText value="#{lista.titulo}" />
        </p:column>    	
    	</p:dataTable>
    	
    	    <p:dialog header="Car Detail" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
       		<p:outputPanel id="carDetail" style="text-align:center;">
            <p:panelGrid  columns="2" rendered="#{not empty treinoViewBean.exercicio}" columnClasses="label,value">
                <f:facet name="header">
    				<p:graphicImage value="#{treinoViewBean.exercicio.imagem.picture}"/> 
                </f:facet>
            </p:panelGrid>
        </p:outputPanel>
    </p:dialog>
    	
    </h:form>
    </h:body>
</html>